<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workflow Builder - n8n Style Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f0f2f5;
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            display: flex;
            height: 100vh;
        }

        /* Top Bar */
        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 50px;
            background: #1a1a1a;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .top-bar-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            font-size: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .workflow-name {
            padding: 6px 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            font-size: 14px;
        }

        .top-bar-center {
            display: flex;
            gap: 10px;
        }

        .toolbar-btn {
            padding: 8px 16px;
            background: transparent;
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .toolbar-btn:hover {
            background: rgba(255,255,255,0.1);
            border-color: rgba(255,255,255,0.3);
        }

        .toolbar-btn.primary {
            background: #ff6d00;
            border-color: #ff6d00;
        }

        .toolbar-btn.primary:hover {
            background: #ff8124;
        }

        /* Main Layout */
        .main-container {
            display: flex;
            height: calc(100vh - 50px);
            margin-top: 50px;
        }

        /* Node Palette */
        .node-palette {
            width: 250px;
            background: white;
            border-right: 1px solid #e0e0e0;
            overflow-y: auto;
            padding: 20px;
        }

        .palette-search {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .node-category {
            margin-bottom: 25px;
        }

        .category-title {
            font-size: 12px;
            font-weight: 600;
            color: #666;
            text-transform: uppercase;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .node-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: grab;
            transition: all 0.2s;
        }

        .node-item:hover {
            background: white;
            border-color: #ff6d00;
            transform: translateX(5px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .node-item:active {
            cursor: grabbing;
        }

        .node-icon {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 6px;
            font-size: 20px;
        }

        .node-info {
            flex: 1;
        }

        .node-name {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 2px;
        }

        .node-desc {
            font-size: 11px;
            color: #999;
        }

        /* Canvas */
        .canvas-container {
            flex: 1;
            background: #fafafa;
            position: relative;
            overflow: hidden;
        }

        .canvas {
            width: 100%;
            height: 100%;
            position: relative;
            background-image:
                linear-gradient(rgba(200, 200, 200, 0.3) 1px, transparent 1px),
                linear-gradient(90deg, rgba(200, 200, 200, 0.3) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* Workflow Nodes on Canvas */
        .workflow-node {
            position: absolute;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            min-width: 180px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            cursor: move;
            transition: all 0.2s;
        }

        .workflow-node:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-color: #ff6d00;
        }

        .workflow-node.selected {
            border-color: #ff6d00;
            box-shadow: 0 0 0 4px rgba(255, 109, 0, 0.1);
        }

        .workflow-node.running {
            border-color: #4CAF50;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }

        .node-header {
            padding: 10px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            border-radius: 6px 6px 0 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .node-type-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 4px;
            font-size: 14px;
        }

        .node-title {
            flex: 1;
            font-size: 13px;
            font-weight: 600;
            color: #333;
        }

        .node-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4CAF50;
        }

        .node-body {
            padding: 10px;
            font-size: 12px;
            color: #666;
        }

        .node-task {
            background: #f8f9fa;
            padding: 6px 8px;
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .node-params {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .node-param {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
        }

        .node-param-label {
            color: #999;
        }

        .node-param-value {
            color: #333;
            font-weight: 500;
        }

        /* Connection Ports */
        .node-port {
            position: absolute;
            width: 12px;
            height: 12px;
            background: white;
            border: 2px solid #999;
            border-radius: 50%;
            cursor: crosshair;
            transition: all 0.2s;
        }

        .node-port:hover {
            border-color: #ff6d00;
            transform: scale(1.2);
        }

        .node-port.input {
            left: -6px;
            top: 50%;
            transform: translateY(-50%);
        }

        .node-port.output {
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
        }

        /* Connection Lines */
        .connection-line {
            position: absolute;
            stroke: #999;
            stroke-width: 2;
            fill: none;
            pointer-events: none;
        }

        .connection-line.active {
            stroke: #ff6d00;
            stroke-width: 3;
        }

        /* Properties Panel */
        .properties-panel {
            width: 320px;
            background: white;
            border-left: 1px solid #e0e0e0;
            overflow-y: auto;
            padding: 20px;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .panel-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .close-panel {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f0f2f5;
            border-radius: 4px;
            cursor: pointer;
            border: none;
            color: #666;
        }

        .property-section {
            margin-bottom: 25px;
        }

        .property-label {
            font-size: 12px;
            font-weight: 600;
            color: #666;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .property-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
        }

        .property-textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            min-height: 80px;
            resize: vertical;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
        }

        .property-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }

        .parameter-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .parameter-item {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .parameter-key {
            flex: 1;
        }

        .parameter-value {
            flex: 1;
        }

        .add-parameter {
            width: 100%;
            padding: 8px;
            border: 1px dashed #e0e0e0;
            border-radius: 6px;
            background: transparent;
            color: #666;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }

        .add-parameter:hover {
            border-color: #ff6d00;
            color: #ff6d00;
            background: rgba(255, 109, 0, 0.05);
        }

        /* Bottom Status Bar */
        .status-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: #2c2c2c;
            color: #999;
            display: flex;
            align-items: center;
            padding: 0 20px;
            font-size: 12px;
            gap: 20px;
            z-index: 1000;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4CAF50;
        }

        /* Zoom Controls */
        .zoom-controls {
            position: absolute;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 5px;
            background: white;
            padding: 5px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .zoom-btn {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            cursor: pointer;
            border-radius: 4px;
            color: #666;
            transition: all 0.2s;
        }

        .zoom-btn:hover {
            background: #f0f2f5;
            color: #333;
        }

        .zoom-level {
            padding: 0 10px;
            display: flex;
            align-items: center;
            font-size: 12px;
            color: #666;
            min-width: 50px;
            justify-content: center;
        }

        /* Mini Map */
        .minimap {
            position: absolute;
            bottom: 70px;
            right: 20px;
            width: 200px;
            height: 150px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 10px;
        }

        .minimap-viewport {
            width: 100%;
            height: 100%;
            background: #f8f9fa;
            border-radius: 4px;
            position: relative;
        }

        .minimap-view {
            position: absolute;
            background: rgba(255, 109, 0, 0.2);
            border: 1px solid #ff6d00;
            border-radius: 2px;
            top: 20%;
            left: 20%;
            width: 40%;
            height: 30%;
        }

        /* Execution Panel */
        .execution-panel {
            position: absolute;
            bottom: 60px;
            left: 270px;
            right: 340px;
            background: white;
            border-radius: 8px 8px 0 0;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
            max-height: 300px;
            transform: translateY(100%);
            transition: transform 0.3s;
        }

        .execution-panel.open {
            transform: translateY(0);
        }

        .execution-header {
            padding: 15px 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 8px 8px 0 0;
        }

        .execution-title {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .execution-body {
            padding: 20px;
            overflow-y: auto;
            max-height: 230px;
        }

        .execution-log {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.6;
        }

        .log-entry {
            display: flex;
            gap: 10px;
            margin-bottom: 8px;
        }

        .log-time {
            color: #999;
            min-width: 60px;
        }

        .log-node {
            color: #ff6d00;
            font-weight: 600;
            min-width: 120px;
        }

        .log-message {
            color: #333;
            flex: 1;
        }

        .log-entry.error .log-message {
            color: #f44336;
        }

        .log-entry.success .log-message {
            color: #4CAF50;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="top-bar-left">
                <div class="logo">
                    <span>üîÑ</span>
                    <span>Workflow Builder</span>
                </div>
                <div class="workflow-name">Authentication Flow v2.1</div>
            </div>
            <div class="top-bar-center">
                <button class="toolbar-btn">
                    <span>üíæ</span>
                    <span>Save</span>
                </button>
                <button class="toolbar-btn primary" onclick="executeWorkflow()">
                    <span>‚ñ∂Ô∏è</span>
                    <span>Execute</span>
                </button>
                <button class="toolbar-btn">
                    <span>üß™</span>
                    <span>Test</span>
                </button>
                <button class="toolbar-btn">
                    <span>üìä</span>
                    <span>Analytics</span>
                </button>
                <button class="toolbar-btn">
                    <span>üîÑ</span>
                    <span>Version</span>
                </button>
            </div>
            <div class="top-bar-left">
                <button class="toolbar-btn">
                    <span>‚öôÔ∏è</span>
                    <span>Settings</span>
                </button>
                <button class="toolbar-btn">
                    <span>üë§</span>
                    <span>Admin</span>
                </button>
            </div>
        </div>

        <!-- Main Container -->
        <div class="main-container">
            <!-- Node Palette -->
            <div class="node-palette">
                <input type="text" class="palette-search" placeholder="Search nodes...">

                <div class="node-category">
                    <div class="category-title">
                        <span>‚ö°</span>
                        <span>TRIGGERS</span>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üåê</div>
                        <div class="node-info">
                            <div class="node-name">Webhook</div>
                            <div class="node-desc">HTTP endpoint trigger</div>
                        </div>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">‚è∞</div>
                        <div class="node-info">
                            <div class="node-name">Schedule</div>
                            <div class="node-desc">Cron-based trigger</div>
                        </div>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üìß</div>
                        <div class="node-info">
                            <div class="node-name">Email</div>
                            <div class="node-desc">Email received trigger</div>
                        </div>
                    </div>
                </div>

                <div class="node-category">
                    <div class="category-title">
                        <span>ü§ñ</span>
                        <span>AGENTS</span>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üîß</div>
                        <div class="node-info">
                            <div class="node-name">Backend API</div>
                            <div class="node-desc">Server-side operations</div>
                        </div>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üóÑÔ∏è</div>
                        <div class="node-info">
                            <div class="node-name">Database</div>
                            <div class="node-desc">Data operations</div>
                        </div>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üé®</div>
                        <div class="node-info">
                            <div class="node-name">Frontend UI</div>
                            <div class="node-desc">UI generation</div>
                        </div>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üß™</div>
                        <div class="node-info">
                            <div class="node-name">Testing</div>
                            <div class="node-desc">Test automation</div>
                        </div>
                    </div>
                </div>

                <div class="node-category">
                    <div class="category-title">
                        <span>üîÄ</span>
                        <span>LOGIC</span>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">‚ùì</div>
                        <div class="node-info">
                            <div class="node-name">IF</div>
                            <div class="node-desc">Conditional branch</div>
                        </div>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üîÑ</div>
                        <div class="node-info">
                            <div class="node-name">Loop</div>
                            <div class="node-desc">Iterate over items</div>
                        </div>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üîÄ</div>
                        <div class="node-info">
                            <div class="node-name">Switch</div>
                            <div class="node-desc">Multiple branches</div>
                        </div>
                    </div>
                </div>

                <div class="node-category">
                    <div class="category-title">
                        <span>‚öôÔ∏è</span>
                        <span>ACTIONS</span>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üì®</div>
                        <div class="node-info">
                            <div class="node-name">HTTP Request</div>
                            <div class="node-desc">Make API calls</div>
                        </div>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üíæ</div>
                        <div class="node-info">
                            <div class="node-name">File</div>
                            <div class="node-desc">File operations</div>
                        </div>
                    </div>
                    <div class="node-item" draggable="true">
                        <div class="node-icon">üîÑ</div>
                        <div class="node-info">
                            <div class="node-name">Transform</div>
                            <div class="node-desc">Data transformation</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Canvas -->
            <div class="canvas-container">
                <div class="canvas" id="canvas">
                    <!-- SVG for connections -->
                    <svg style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;">
                        <path d="M 100 150 Q 200 150, 300 200" class="connection-line active" />
                        <path d="M 300 220 Q 400 220, 500 150" class="connection-line" />
                        <path d="M 300 220 Q 400 220, 500 290" class="connection-line" />
                        <path d="M 500 170 Q 600 170, 700 220" class="connection-line" />
                        <path d="M 500 310 Q 600 310, 700 240" class="connection-line" />
                        <path d="M 700 240 Q 800 240, 900 240" class="connection-line" />
                    </svg>

                    <!-- Webhook Trigger Node -->
                    <div class="workflow-node selected" style="left: 50px; top: 120px;">
                        <div class="node-header">
                            <div class="node-type-icon">üåê</div>
                            <div class="node-title">Webhook Trigger</div>
                            <div class="node-status"></div>
                        </div>
                        <div class="node-body">
                            <div class="node-params">
                                <div class="node-param">
                                    <span class="node-param-label">Method:</span>
                                    <span class="node-param-value">POST</span>
                                </div>
                                <div class="node-param">
                                    <span class="node-param-label">Path:</span>
                                    <span class="node-param-value">/auth/login</span>
                                </div>
                            </div>
                        </div>
                        <div class="node-port output"></div>
                    </div>

                    <!-- Backend API Node -->
                    <div class="workflow-node" style="left: 250px; top: 180px;">
                        <div class="node-header">
                            <div class="node-type-icon">üîß</div>
                            <div class="node-title">Backend API</div>
                            <div class="node-status"></div>
                        </div>
                        <div class="node-body">
                            <div class="node-task">Validate user credentials</div>
                            <div class="node-params">
                                <div class="node-param">
                                    <span class="node-param-label">Timeout:</span>
                                    <span class="node-param-value">30s</span>
                                </div>
                            </div>
                        </div>
                        <div class="node-port input"></div>
                        <div class="node-port output"></div>
                    </div>

                    <!-- IF Condition Node -->
                    <div class="workflow-node" style="left: 450px; top: 120px;">
                        <div class="node-header">
                            <div class="node-type-icon">‚ùì</div>
                            <div class="node-title">IF Valid</div>
                            <div class="node-status"></div>
                        </div>
                        <div class="node-body">
                            <div class="node-params">
                                <div class="node-param">
                                    <span class="node-param-label">Condition:</span>
                                    <span class="node-param-value">isValid == true</span>
                                </div>
                            </div>
                        </div>
                        <div class="node-port input"></div>
                        <div class="node-port output" style="top: 30%;"></div>
                        <div class="node-port output" style="top: 70%;"></div>
                    </div>

                    <!-- Database Node -->
                    <div class="workflow-node" style="left: 450px; top: 260px;">
                        <div class="node-header">
                            <div class="node-type-icon">üóÑÔ∏è</div>
                            <div class="node-title">Database</div>
                            <div class="node-status"></div>
                        </div>
                        <div class="node-body">
                            <div class="node-task">Get user profile</div>
                            <div class="node-params">
                                <div class="node-param">
                                    <span class="node-param-label">Query:</span>
                                    <span class="node-param-value">SELECT * FROM users</span>
                                </div>
                            </div>
                        </div>
                        <div class="node-port input"></div>
                        <div class="node-port output"></div>
                    </div>

                    <!-- Transform Node -->
                    <div class="workflow-node" style="left: 650px; top: 200px;">
                        <div class="node-header">
                            <div class="node-type-icon">üîÑ</div>
                            <div class="node-title">Generate JWT</div>
                            <div class="node-status"></div>
                        </div>
                        <div class="node-body">
                            <div class="node-params">
                                <div class="node-param">
                                    <span class="node-param-label">Algorithm:</span>
                                    <span class="node-param-value">RS256</span>
                                </div>
                                <div class="node-param">
                                    <span class="node-param-label">Expires:</span>
                                    <span class="node-param-value">1h</span>
                                </div>
                            </div>
                        </div>
                        <div class="node-port input" style="top: 30%;"></div>
                        <div class="node-port input" style="top: 70%;"></div>
                        <div class="node-port output"></div>
                    </div>

                    <!-- Response Node -->
                    <div class="workflow-node" style="left: 850px; top: 210px;">
                        <div class="node-header">
                            <div class="node-type-icon">‚úÖ</div>
                            <div class="node-title">HTTP Response</div>
                            <div class="node-status"></div>
                        </div>
                        <div class="node-body">
                            <div class="node-params">
                                <div class="node-param">
                                    <span class="node-param-label">Status:</span>
                                    <span class="node-param-value">200 OK</span>
                                </div>
                                <div class="node-param">
                                    <span class="node-param-label">Type:</span>
                                    <span class="node-param-value">JSON</span>
                                </div>
                            </div>
                        </div>
                        <div class="node-port input"></div>
                    </div>
                </div>

                <!-- Zoom Controls -->
                <div class="zoom-controls">
                    <button class="zoom-btn">‚àí</button>
                    <div class="zoom-level">100%</div>
                    <button class="zoom-btn">+</button>
                    <button class="zoom-btn">‚äû</button>
                </div>

                <!-- Mini Map -->
                <div class="minimap">
                    <div class="minimap-viewport">
                        <div class="minimap-view"></div>
                    </div>
                </div>

                <!-- Execution Panel -->
                <div class="execution-panel" id="executionPanel">
                    <div class="execution-header">
                        <div class="execution-title">üöÄ Execution Log</div>
                        <button class="close-panel" onclick="toggleExecutionPanel()">‚úï</button>
                    </div>
                    <div class="execution-body">
                        <div class="execution-log" id="executionLog">
                            <!-- Logs will appear here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Properties Panel -->
            <div class="properties-panel">
                <div class="panel-header">
                    <div class="panel-title">Node Properties</div>
                    <button class="close-panel">‚úï</button>
                </div>

                <div class="property-section">
                    <div class="property-label">Node Type</div>
                    <input type="text" class="property-input" value="Webhook Trigger" disabled>
                </div>

                <div class="property-section">
                    <div class="property-label">Name</div>
                    <input type="text" class="property-input" value="Webhook Trigger">
                </div>

                <div class="property-section">
                    <div class="property-label">Description</div>
                    <textarea class="property-textarea" placeholder="Add description...">Receives authentication requests from the frontend application</textarea>
                </div>

                <div class="property-section">
                    <div class="property-label">Configuration</div>

                    <div style="margin-bottom: 12px;">
                        <label style="font-size: 12px; color: #666; margin-bottom: 4px; display: block;">HTTP Method</label>
                        <select class="property-select">
                            <option>GET</option>
                            <option selected>POST</option>
                            <option>PUT</option>
                            <option>DELETE</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 12px;">
                        <label style="font-size: 12px; color: #666; margin-bottom: 4px; display: block;">Path</label>
                        <input type="text" class="property-input" value="/auth/login">
                    </div>

                    <div style="margin-bottom: 12px;">
                        <label style="font-size: 12px; color: #666; margin-bottom: 4px; display: block;">Authentication</label>
                        <select class="property-select">
                            <option>None</option>
                            <option>Basic Auth</option>
                            <option selected>Bearer Token</option>
                            <option>API Key</option>
                        </select>
                    </div>
                </div>

                <div class="property-section">
                    <div class="property-label">Parameters</div>
                    <div class="parameter-list">
                        <div class="parameter-item">
                            <input type="text" class="property-input parameter-key" value="username" placeholder="Key">
                            <input type="text" class="property-input parameter-value" value="string" placeholder="Type">
                        </div>
                        <div class="parameter-item">
                            <input type="text" class="property-input parameter-key" value="password" placeholder="Key">
                            <input type="text" class="property-input parameter-value" value="string" placeholder="Type">
                        </div>
                    </div>
                    <button class="add-parameter">+ Add Parameter</button>
                </div>

                <div class="property-section">
                    <div class="property-label">Advanced</div>

                    <div style="margin-bottom: 12px;">
                        <label style="font-size: 12px; color: #666; margin-bottom: 4px; display: block;">Retry on Failure</label>
                        <input type="checkbox" checked> Enable
                    </div>

                    <div style="margin-bottom: 12px;">
                        <label style="font-size: 12px; color: #666; margin-bottom: 4px; display: block;">Max Retries</label>
                        <input type="number" class="property-input" value="3">
                    </div>

                    <div style="margin-bottom: 12px;">
                        <label style="font-size: 12px; color: #666; margin-bottom: 4px; display: block;">Timeout (seconds)</label>
                        <input type="number" class="property-input" value="30">
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item">
                <div class="status-indicator"></div>
                <span>Connected</span>
            </div>
            <div class="status-item">
                <span>Nodes: 6</span>
            </div>
            <div class="status-item">
                <span>Connections: 5</span>
            </div>
            <div class="status-item">
                <span>Last saved: 2 min ago</span>
            </div>
            <div class="status-item" style="margin-left: auto;">
                <span>Version: 2.1.0</span>
            </div>
        </div>
    </div>

    <script>
        // Make nodes draggable
        document.querySelectorAll('.workflow-node').forEach(node => {
            let isDragging = false;
            let currentX;
            let currentY;
            let initialX;
            let initialY;
            let xOffset = 0;
            let yOffset = 0;

            node.addEventListener('mousedown', dragStart);

            function dragStart(e) {
                if (e.target.classList.contains('node-port')) return;

                initialX = e.clientX - xOffset;
                initialY = e.clientY - yOffset;

                if (e.target === node || node.contains(e.target)) {
                    isDragging = true;
                }

                // Select this node
                document.querySelectorAll('.workflow-node').forEach(n => n.classList.remove('selected'));
                node.classList.add('selected');
            }

            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', dragEnd);

            function drag(e) {
                if (isDragging) {
                    e.preventDefault();
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;

                    xOffset = currentX;
                    yOffset = currentY;

                    node.style.transform = `translate(${currentX}px, ${currentY}px)`;
                }
            }

            function dragEnd(e) {
                initialX = currentX;
                initialY = currentY;
                isDragging = false;
            }
        });

        // Toggle execution panel
        function toggleExecutionPanel() {
            const panel = document.getElementById('executionPanel');
            panel.classList.toggle('open');
        }

        // Execute workflow simulation
        function executeWorkflow() {
            const panel = document.getElementById('executionPanel');
            const log = document.getElementById('executionLog');

            panel.classList.add('open');
            log.innerHTML = '';

            const nodes = document.querySelectorAll('.workflow-node');
            const nodeNames = [
                'Webhook Trigger',
                'Backend API',
                'IF Valid',
                'Database',
                'Generate JWT',
                'HTTP Response'
            ];

            let index = 0;

            function processNode() {
                if (index < nodes.length) {
                    const node = nodes[index];
                    const name = nodeNames[index];

                    // Add running class
                    node.classList.add('running');

                    // Add log entry
                    const logEntry = document.createElement('div');
                    logEntry.className = 'log-entry';
                    logEntry.innerHTML = `
                        <span class="log-time">${new Date().toLocaleTimeString().substr(0, 5)}</span>
                        <span class="log-node">${name}</span>
                        <span class="log-message">Processing...</span>
                    `;
                    log.appendChild(logEntry);

                    // Simulate processing
                    setTimeout(() => {
                        node.classList.remove('running');
                        logEntry.classList.add('success');
                        logEntry.querySelector('.log-message').textContent = 'Completed successfully';

                        index++;
                        processNode();
                    }, 1000);
                } else {
                    // Add final log
                    const finalLog = document.createElement('div');
                    finalLog.className = 'log-entry success';
                    finalLog.innerHTML = `
                        <span class="log-time">${new Date().toLocaleTimeString().substr(0, 5)}</span>
                        <span class="log-node">Workflow</span>
                        <span class="log-message">‚úÖ Execution completed successfully</span>
                    `;
                    log.appendChild(finalLog);
                }
            }

            processNode();
        }
    </script>
</body>
</html>